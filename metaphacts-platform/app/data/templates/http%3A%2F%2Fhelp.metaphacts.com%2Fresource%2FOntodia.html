[[> http://www.metaphacts.com/resource/breadcrumbs/HelpPage]]


<div class='page'>
  <div data-flex-layout='row top-center'>
    <div style='margin: 30px; flex: 0 0 250px; width: 250px'>
      <ul class='nav'>
        <li>
          <mp-anchor to='configuration-overview' animate='{"offset": -110, "duration": 500}'>
            Configuration Overview
          </mp-anchor>
        </li>
    	  <li>
          <mp-anchor to='component-hierarchy' animate='{"offset": -110, "duration": 500}'>
            Component Hierarchy
          </mp-anchor>
        </li>
        <li>
          <mp-anchor to='visual-appearance' animate='{"offset": -110, "duration": 500}'>
            Visual Appearance
          </mp-anchor>
          <ul style='list-style: none'>
            <li>
              <mp-anchor to='visual-appearance-node-width' animate='{"offset": -110, "duration": 500}'>
                Changing node width
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='visual-appearance-colors-images' animate='{"offset": -110, "duration": 500}'>
                Custom colors and images
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='visual-appearance-knowledge-panel' animate='{"offset": -110, "duration": 500}'>
                Integrating the Knowledge Panel
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='visual-appearance-templates' animate='{"offset": -110, "duration": 500}'>
                Custom templates
              </mp-anchor>
            </li>
            [[> Help:OntodiaLayoutsConfigAnchorInclude]]
          </ul>
        </li>
        <li>
          <mp-anchor to='data-provider' animate='{"offset": -110, "duration": 500}'>
            Data Provider
          </mp-anchor>
          <ul style='list-style: none'>
            <li>
              <mp-anchor to='data-provider-custom-class-tree' animate='{"offset": -110, "duration": 500}'>
                Custom Class Tree
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='data-provider-non-owl' animate='{"offset": -110, "duration": 500}'>
                Non-OWL/RDFS Ontology
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='data-provider-display-images' animate='{"offset": -110, "duration": 500}'>
                Display Images
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='data-provider-virtual-data' animate='{"offset": -110, "duration": 500}'>
                Virtual Data
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='data-provider-rdf-star' animate='{"offset": -110, "duration": 500}'>
                RDF-star properties
              </mp-anchor>
            </li>
          </ul>
        </li>
        <li>
          <mp-anchor to='interaction' animate='{"offset": -110, "duration": 500}'>
            Component Interaction
          </mp-anchor>
          <ul style='list-style: none'>
            <li>
              <mp-anchor to='interaction-ontodia-events' animate='{"offset": -110, "duration": 500}'>
                Ontodia events
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='interaction-canvas-events' animate='{"offset": -110, "duration": 500}'>
                Canvas events
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='instances-search-events' animate='{"offset": -110, "duration": 500}'>
                Instances search events
              </mp-anchor>
            </li>
          </ul>
        </li>
        <li>
          <mp-anchor to='authoring' animate='{"offset": -110, "duration": 500}'>
            Data Authoring
          </mp-anchor>
          <ul style='list-style: none'>
            <li>
              <mp-anchor to='authoring-metadata' animate='{"offset": -110, "duration": 500}'>
                Metadata configuration
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='authoring-entity-metadata' animate='{"offset": -110, "duration": 500}'>
                Entity metadata configuration
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='authoring-input-override' animate='{"offset": -110, "duration": 500}'>
                Input override configuration
              </mp-anchor>
            </li>
          </ul>
        </li>
        <li>
          <mp-anchor to='how-to' animate='{"offset": -110, "duration": 500}'>
            How-to
          </mp-anchor>
          <ul style='list-style: none'>
            <li>
              <mp-anchor to='how-to-restrict-data' animate='{"offset": -110, "duration": 500}'>
                Restrict the data to be queried
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='how-to-custom-styles' animate='{"offset": -110, "duration": 500}'>
                Provide global templates for visualization
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='how-to-custom-workspace' animate='{"offset": -110, "duration": 500}'>
                Add/remove panels or toolbar options
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='how-to-custom-use-case' animate='{"offset": -110, "duration": 500}'>
                Configure Ontodia for a custom use cases
              </mp-anchor>
            </li>
            <li>
              <mp-anchor to='how-to-events' animate='{"offset": -110, "duration": 500}'>
                Interact between Ontodia and other components on the page
              </mp-anchor>
            </li>
          </ul>
        </li>
      </ul>
    </div>
    <div style='margin: 30px; min-width: 0px'>
      <h1>Ontodia Diagramming and Graph Interaction Component</h1>

      <div class='documentation__intro'>
        <div class='documentation__intro__description'>
          <p>
            Ontodia is a customizable diagramming and graph interaction component that is
            pre-configured within the platform to serve various visualization, exploration, documentation and
            authoring use cases. In addition, the component can be flexibly instantiated and configured for domain or project-specific use cases.
          </p>
        </div>
        <div class='documentation__intro__demo' style='border: 1px solid #80808026; height:  350px'>
          <ontodia query='[[> exampleQuery]]'>
            <ontodia-data-providers>
              <ontodia-rdf-provider provision-query='[[> exampleData]]'>
              </ontodia-rdf-provider>
            </ontodia-data-providers>
            <ontodia-canvas id='canvas-demo1'
              use-default-navigation-menu=false>
            </ontodia-canvas>
          </ontodia>
        </div>
      </div>

      <section id='configuration-overview'>
        <h2 class='page-header'>Configuration Overview</h2>
        <p>
          Ontodia provides configuration options at multiple levels and can be configured to suit particular
          use cases. Configuration options include:
        </p>
        <ol>
          <li>
            Options for configuring user interface - placement of panels, availability of the
            features
            (see <mp-anchor to='component-hierarchy' animate='{"offset": -110, "duration": 500}'>Component Hierarchy</mp-anchor>)
          </li>
          <li>
            How instances and connections are presented visually
            (see <mp-anchor to='visual-appearance' animate='{"offset": -110, "duration": 500}'>Visual Appearance Configuration</mp-anchor>)
          </li>
					<li>
            Changing how data is fetched from the RDF data graph, including restricting the data that is
            visible to the user
            (see <mp-anchor to='data-provider' animate='{"offset": -110, "duration": 500}'>Data Provider Configuration</mp-anchor>)
          </li>
          <li>
            Interaction with other platform components
            (see <mp-anchor to='interaction' animate='{"offset": -110, "duration": 500}'>Component Interaction</mp-anchor>)
          </li>
          <li>
            Visual creation and modification of graph data (see <mp-anchor to='authoring' animate='{"offset": -110, "duration": 500}'>Data Authoring </mp-anchor>)
          </li>
        </ol>
      </section>

      <section id='component-hierarchy'>
        <h2 class='page-header'>Component Hierarchy</h2>
        <p>
          This section covers Ontodia configuration in detail, describing all available components and
          their nesting hierarchy.
        </p>
        <p>
          The idea behind the hierarchical configuration is that the Ontodia is configured by using a
          composition of individual components. Each component is responsible for different parts of the configuration.
          Some components are purely visual markup elements (e.g. to divide the space),
          while others are functional elements which may require specific configuration.
          Configuration options are attributed to the most specific component
          possible.
        </p>
        <p>The configuration is logically organized in three blocks:</p>
        <ol>
          <li>
            Root component - responsible for initialization and interaction with other platform
            components
          </li>
          <li>
            Data configuration components - including data provider and authoring configuration -
            responsible for configuring how data is being processed in Ontodia.
          </li>
          <li>
            Visual components - responsible for presenting UI of Ontodia workspace, including
            toolbar, panels, additional widgets
          </li>
        </ol>
        <p>
          There are pre-defined configurations for default use cases in the platform.
          For specific databases, use cases or projects you may want to overwrite the default settings
          or alternatively instantiate and configure Ontodia direclty.
          Please note that if you overwrite the global platform configuration,
          you may silently break some entry points and will have to synchronize manually with future releases / updates.
        </p>
        <p>
          If you would like to configure Ontodia for a new use case, please see
          <mp-anchor to='how-to-custom-use-case' animate='{"offset": -110, "duration": 500}'>Configure Ontodia for custom use cases</mp-anchor>.
        </p>

        <p>
          This is the nesting tree of the main components:
        </p>
        <ul class='list-unstyled'>
          <li>
            <mp-anchor to='ontodia' animate='{"offset": -110, "duration": 500}'>
              ontodia
            </mp-anchor>
            <ul>
              <li>
                <mp-anchor to='ontodia-data-providers' animate='{"offset": -110, "duration": 500}'>
                  ontodia-data-providers
                </mp-anchor>
                <ul>
                  <li>
                    <mp-anchor to='ontodia-sparql-provider' animate='{"offset": -110, "duration": 500}'>
                      ontodia-sparql-provider
                    </mp-anchor>
                  </li>
                  <li>
                    <mp-anchor to='ontodia-rdf-provider' animate='{"offset": -110, "duration": 500}'>
                      ontodia-rdf-provider
                    </mp-anchor>
                  </li>
                </ul>
              </li>
              <li>
                <semantic-link uri='[[resolvePrefix "Help:CSSLayout"]]' fragment='workspace-layout'>
                  mp-workspace-layout
                </semantic-link>
                <ul>
                  <li>
                    <mp-anchor to='ontodia-class-tree' animate='{"offset": -110, "duration": 500}'>
                      ontodia-class-tree
                    </mp-anchor>
                  </li>
                  <li>
                    <mp-anchor to='ontodia-instances-search' animate='{"offset": -110, "duration": 500}'>
                      ontodia-instances-search
                    </mp-anchor>
                  </li>
                  <li>
                    <mp-anchor to='ontodia-connections' animate='{"offset": -110, "duration": 500}'>
                      ontodia-connections
                    </mp-anchor>
                  </li>
                  <li>
                    <mp-anchor to='ontodia-element-search' animate='{"offset": -110, "duration": 500}'>
                      ontodia-element-search
                    </mp-anchor>
                  </li>
                  <li>
                    <mp-anchor to='ontodia-canvas' animate='{"offset": -110, "duration": 500}'>
                      ontodia-canvas
                    </mp-anchor>
                    <ol>
                      <li>
                        <mp-anchor to='ontodia-toolbar' animate='{"offset": -110, "duration": 500}'>
                          ontodia-toolbar
                        </mp-anchor>
                        <ul>
                          <li>
                            <mp-anchor to='ontodia-save-button' animate='{"offset": -110, "duration": 500}'>
                              ontodia-save-button
                            </mp-anchor>
                          </li>
                          [[> Help:OntodiaEdgeSwitcherAnchorInclude]]
                        </ul>
                      </li>
                      <li>
                        <mp-anchor to='ontodia-navigator' animate='{"offset": -110, "duration": 500}'>
                          ontodia-navigator
                        </mp-anchor>
                      </li>
                      <li>
                        <mp-anchor to='ontodia-halo' animate='{"offset": -110, "duration": 500}'>
                          ontodia-halo
                        </mp-anchor>
                      </li>
                      <li>
                        <mp-anchor to='ontodia-halo-link' animate='{"offset": -110, "duration": 500}'>
                          ontodia-halo-link
                        </mp-anchor>
                      </li>
                      [[> Help:OntodiaSelectionAnchorInclude]]
                      [[> Help:OntodiaSnaplinesAnchorInclude]]
                      <li>
                        <mp-anchor to='ontodia-canvas-widget' animate='{"offset": -110, "duration": 500}'>
                          ontodia-canvas-widget
                        </mp-anchor>
                      </li>
                    </ol>
                  </li>
                </ul>
              </li>
              <li>
                ontodia-field-configuration
              </li>
            </ul>
          </li>
        </ul>

        <h3 id='ontodia'>Ontodia (<code>ontodia</code>)</h3>
        [[> Help:OntodiaConfigInclude]]

        This component supports different initialization options to cover different use cases.

        <h4>Create an empty diagram</h4>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            To create an empty diagram, use <code><ontodia></ontodia></code> tag without any
            parameters. After saving a diagram, the user will be forwarded to the resource specified
            by <code>navigate-to</code>. When saving a diagram, only the diagram layout is stored -
            positions of nodes, shapes of the links, and corresponding IRIs in the original data
            source. When the diagram is loaded, Ontodia reloads contents of all elements, keeping
            the diagram up-to-date with the data.
          </div>
          <div class="documentation__example__demo">
            <mp-code-block>
              <![CDATA[
              <ontodia></ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        <h4>Retrieve and display a stored diagram</h4>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            To display a stored diagram, specify it's ID. In this example the diagram will not load,
            because it will need missing diagram layout.
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia diagram='http://example.com/diagram1'></ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        <h4>Initialize a diagram with a single element</h4>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            You can specify a node to start a new diagram with. Use <code>iri</code> property.
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia iri='http://example.com/person/alice'></ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        <h4>Initialize a graph visualization with a construct query</h4>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            To initialize a diagram with some graph on it, you can specify a SPARQL Construct query
            with the <code>query</code> parameter.
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo4'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-canvas'>Canvas (<code>ontodia-canvas</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Responsible for rendering graph, allows to drag-and-drop nodes and provides the ability to
              navigate through the data via the connections menu. Visual appearance can be heavily
              custimized, i.e. see
              <mp-anchor to='visual-appearance' animate='{"offset": -110, "duration": 500}'>
                Visual Appearance Configuration
              </mp-anchor>
            </p>
            <mp-documentation type='OntodiaCanvasConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='canvas-demo5'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-class-tree'>Class Tree (<code>ontodia-class-tree</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Responsible for fetching and displaying classes and classes statistics, allows
              drag-and-drop of classes on the canvas.
            </p>
            <mp-documentation type='ClassTreeConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  200px'>
                <ontodia>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-class-tree></ontodia-class-tree>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-instances-search'>
          Instances Search (<code>ontodia-instances-search</code>)
        </h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Provides the ability to search instances and to drag-and-drop them on the canvas.
              It is connected with the <code>ontodia-class-tree</code> and displays instances of a
              selected class.
            </p>
            <mp-documentation type='InstancesSearchConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-class-tree id='classes' instances-search-id='instances'>
                  </ontodia-class-tree>

                  <ontodia-instances-search id='instances'>
                  </ontodia-instances-search>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-connections'>Connections (<code>ontodia-connections</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>Displays links statistics for a selected node.</p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='canvas-demo8'></ontodia-canvas>

                  <ontodia-connections></ontodia-connections>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-element-search'>Element search (<code>ontodia-element-search</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Displays elements that are currently on the canvas, allows searching of elements by
              the label and highlighting them on the canvas.
            </p>
            <mp-documentation type='ElementSearchConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='canvas-demo9'></ontodia-canvas>

                  <ontodia-element-search id='search-demo9' canvas-id='canvas-demo9'>
                  </ontodia-element-search>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-toolbar'>Toolbar (<code>ontodia-toolbar</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='ToolbarConfig'></mp-documentation>
            <p>
              Default toolbar controls can be overridden by providing custom controls inside
              <code>ontodia-toolbar</code>. To assign a specific action to a control, one must
              specify the <code>name</code> attribute, i.e. <code><button name='*' /></code>, see
              pre-configured toolbars
              <semantic-link iri='http://www.metaphacts.com/resource/OntodiaSimpleWorkspace'
                urlqueryparamAction='edit'>
              </semantic-link>
              and
              <semantic-link iri='http://www.metaphacts.com/resource/OntodiaAdvancedWorkspace'
                urlqueryparamAction='edit'>
              </semantic-link>.
              Possible actions are listed below:
            </p>
            [[> Help:OntodiaToolbarActionsInclude]]
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo10'>
                    <ontodia-toolbar id='ontodia-toolbar1-demo10'>
                      [[> Help:OntodiaToolbarExampleUndoRedoInclude]]
                      <bs-dropdown size='sm' class='btn-group btn-group-sm'>
                        <bs-dropdown-toggle variant='secondary'>Export</bs-dropdown-toggle>
                        <bs-dropdown-menu>
                          <bs-menu-item name='exportPng'>
                            <i class='fa fa-picture-o'></i> Export PNG
                          </bs-menu-item>
                          <bs-menu-item name='exportSvg'>
                            <i class='fa fa-picture-o'></i> Export SVG
                          </bs-menu-item>
                          <bs-menu-item name='print'>
                            <i class='fa fa-print'></i> Print
                          </bs-menu-item>
                        </bs-dropdown-menu>
                      </bs-dropdown>
                    </ontodia-toolbar>
                    <ontodia-toolbar id='ontodia-toolbar2-demo10' dock='sw'>
                      <div class='btn-group-vertical btn-group-sm'>
                        <button name='zoomIn' class='btn btn-secondary' title='Zoom in'>
                          <i class='fa fa-search-plus'></i>
                        </button>
                        <button name='zoomOut' class='btn btn-secondary' title='Zoom out'>
                          <i class='fa fa-search-minus'></i>
                        </button>
                        <button name='zoomToFit' class='btn btn-secondary' title='Fit to screen'>
                          <i class='fa fa-arrows-alt'></i>
                        </button>
                      </div>
                    </ontodia-toolbar>
                  </ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-save-button'>Save button (<code>ontodia-save-button</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='OntodiaSaveButtonConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-canvas>
                  <ontodia-toolbar>
                    <ontodia-save-button></ontodia-save-button>
                  </ontodia-toolbar>
                </ontodia-canvas>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        [[> Help:OntodiaEdgeSwitcherInclude]]

        <h3 id='ontodia-navigator'>Navigator (<code>ontodia-navigator</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='NavigatorWidgetConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo11'>
                    <ontodia-navigator></ontodia-navigator>
                  </ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-halo'>Halo (<code>ontodia-halo</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>Allows selecting a node and triggering of actions</p>
            <p><b>Can only be used inside <code>ontodia-canvas</code>.</b></p>
            <p>
              Halo as a component supports almost the same list of actions as
              element and can use the same list of parameters as element
              (See <mp-anchor to='visual-appearance-templates' animate='{"offset": -110, "duration": 500}'>Custom templates</mp-anchor>).
              Appearance and the set of action buttons can be customized
              using template system.
            </p>
            <pre>
              <code>
<ontodia-canvas id='ontodia-halo-demo'>
  <ontodia-halo template="{{> halo-template}}">
    <template id="halo-template">
      <div style="pointer-events: none">
        <button class="Halo--removeButton"
          name="removeSelectedElements">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
        {{#if canLink}}
          <button name="establishNewLink"
            class="Halo--establishNewConnection">
          </button>
        {{else}}
          <button
            class="Halo--establishNewConnection"
            disabled=true>
          </button>
        {{/if}}
      </div>
    </template>
  </ontodia-halo>
</ontodia-canvas>
              </code>
            </pre>
            <p>Inside a custom template, the following properties are available:</p>
            <mp-documentation disable-transform-attributes='true' type='OntodiaHaloTemplateData'></mp-documentation>

            <p>
              To make template be able to execute callbacks use following names for buttons:
            </p>
            <ul>
              <li><code>openConnectionMenu</code> - button to open connections menu</li>
              <li><code>showInfo</code> - button to open Knowledge Panel</li>
              <li><code>addToFilter</code> - button to pass entity to InstancesSearch panel</li>
              <li><code>removeSelectedElements</code> - button to remove selected element from diagram</li>
              <li><code>followLink</code> - button to navigate to the resource</li>
              <li><code>expand</code> - button to change the state on "expanded" (Default template doesn't support this state)</li>
            </ul>

            <p>
              To make a template, that supports authoring, special buttons with the following names
              are needed:
            </p>
            <ul>
              <li><code>edit</code> - button to open properties editor panel</li>
              <li><code>delete</code> - button to delete element from the data</li>
            </ul>
            <p>
              Additionally Halo provides <b>establishNewLink</b> action which can be attached
              to the button. To use this action use following button name: <code>establishNewLink</code>.
              Button with this name can have the following additional attributes:
              <ul>
                <li><code>data-link-type</code>: to predefine type IRI of the link to establish using this action.</li>
                <li><code>data-can-drop-on-canvas="false"</code>: to disallow dropping on the canvas.</li>
              </ul>
              In a couple with this action you can also use additional parameter which halo provides <b>canLink</b>
              to check if <code>establishNewLink</code> action is available for the selected element.
            </p>
            <p>
              <h5>Default halo template</h5>
              <pre>
                <code>
<template id="halo-template">
  <div style="pointer-events: none">
    <button class="Halo--removeButton"
      name="removeSelectedElements">
      <i class="fa fa-times" aria-hidden="true"></i>
    </button>
  </div>
</template>
                </code>
              </pre>
            </p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='ontodia-halo-demo'>
                    <ontodia-halo></ontodia-halo>
                  </ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-halo-link'>Halo Link (<code>ontodia-halo-link</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>Allows selecting a link and produce actions with it.</p>
            <p><b>Can be used only inside <code>ontodia-canvas</code>.</b></p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-canvas>
                  <ontodia-halo-link></ontodia-halo-link>
                </ontodia-canvas>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        [[> Help:OntodiaSelectionInclude]]

        [[> Help:OntodiaSnaplinesInclude]]

        <h3 id='ontodia-canvas-widget'>Canvas widget (<code>ontodia-canvas-widget</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='CanvasWidgetConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo14'>
                    <ontodia-canvas-widget id='canvas-widget-demo14' dock='sw' margin=10>
                      <div>Custom canvas widget</div>
                    </ontodia-canvas-widget>
                  </ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='ontodia-data-providers'>Data providers (<code>ontodia-data-providers</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            Responsible for initialization data providers, requires at least one data provider to be
            specified, supports multiple data providers for different repositories.
            <mp-documentation type='OntodiaDataProvidersConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-data-providers>
                  <ontodia-sparql-provider></ontodia-sparql-provider>
                  <ontodia-rdf-provider></ontodia-rdf-provider>
                </ontodia-data-providers>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>
        <h3 id='ontodia-sparql-provider'>SPARQL data provider (<code>ontodia-sparql-provider</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Responsible for fetching data, allows configuring how and from what repository
              Ontodia fetches data, provides the ability to
              <mp-anchor to='show-images' animate='{"offset": -110, "duration": 500}'>
                show images
              </mp-anchor>
              on the diagram.
            </p>
            <mp-documentation type='OntodiaSparqlDataProviderConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-data-providers>
                  <ontodia-sparql-provider provider-settings='{
                    "classTreeQuery":
                      "SELECT ?class ?instcount ?label ?parent WHERE {
                        {
                          SELECT ?class (count(?inst) as ?instcount)
                          WHERE {
                            ?inst rdf:type ?class.
                            FILTER ISIRI(?class)
                          }
                          GROUP BY ?class
                        }
                        UNION
                        { ?class rdf:type rdfs:Class }
                        UNION
                        { ?class rdf:type owl:Class }
                        OPTIONAL { ?class rdfs:label ?label }
                        OPTIONAL { ?class rdfs:subClassOf ?parent. FILTER ISIRI(?parent) }
                      }"
                  }'>
                  </ontodia-sparql-provider>
                </ontodia-data-providers>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>
        <h3 id='ontodia-rdf-provider'>RDF data providers (<code>ontodia-rdf-provider</code>)</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='OntodiaRdfDataProviderConfig'></mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-data-providers>
                  <ontodia-rdf-provider provision-query='
                    [[> exampleData]]
                  '>
                  </ontodia-rdf-provider>
                </ontodia-data-providers>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>
      </section>

      <section id='visual-appearance'>
        <h2 class='page-header'>Visual Appearance</h2>

        <h3 id='visual-appearance-node-width'>Changing node width</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Ontodia nodes have a fixed width in order to the make node size predictable. Moreover, labels are
              truncated if they do not fit into the node.
              The current default node width is set to 200 pixels, which makes room for about 25 characters (if
              there's no thumbnail for an individual or an icon for the class), and about 15 characters (if there is one).
              Based on our experience, 25 characters is most likely enough for the most datasets without images.
              If the labels get truncated too frequently, it is possible to increase the width of the
              nodes by using the following CSS snippet on the page containing Ontodia. Note that for the default Ontodia
              visualizations the best place to include the style override is
              <semantic-link iri='http://www.metaphacts.com/resource/OntodiaUserTemplates' urlqueryparamAction='edit'>
              </semantic-link>.

            </p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
                <style>
                  .TabbyTemplate--border .TabbyTemplate--template {
                    width: 250px; /* this value sets overall width of the node template, default value is 200 */
                  }

                  .TabbyTemplate--border .TabbyTemplate--content {
                    width: 246px; /* this value has to be 4px lower then the template width */
                  }
                </style>
              ]]>
            </mp-code-block>
          </div>
        </div>


        <h3 id='visual-appearance-colors-images'>Custom colors and images</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              The easiest way to change the default styling is to specify custom colors and images
              for nodes. They will be applied for all Ontodia components such as class tree,
              instances search, element search and canvas. Custom colors and images can be specified
              in the <code>nodeStyles</code> property with the following two fields:
            </p>
            <ul>
              <li>
                <code>image</code> - absolute or relative path to an image or a base64 encoded image
              </li>
              <li>
                <code>color</code> - accent color for the templates and other element
                representations in the Ontodia UI
              </li>
            </ul>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia query='
                    [[> exampleQuery]]
                  '
                  node-styles='{
                    "http://xmlns.com/foaf/0.1/Person": {"image": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA5NCAxMTMiIHg9IjBweCIgeT0iMHB4Ij48ZGVmcz48c3R5bGU+DQogICAgICAuY2xzLTEgew0KICAgICAgICBmaWxsLXJ1bGU6IGV2ZW5vZGQ7DQogICAgICB9DQogICAgPC9zdHlsZT48L2RlZnM+PHBhdGggZmlsbD0iIzAwOGNiYSIgY2xhc3M9ImNscy0xIiBkPSJNNDcuNSwxMTFDMjIuMzcxLDExMSwyLDk4LjQ0OSwyLDgyLjk2N1MyMi4zNzEsNTQuOTM1LDQ3LjUsNTQuOTM1LDkzLDY3LjQ4NSw5Myw4Mi45NjcsNzIuNjI5LDExMSw0Ny41LDExMVptMC01OS43NjVBMjQuNjE4LDI0LjYxOCwwLDEsMSw3Mi4xNzYsMjYuNjE4LDI0LjY0NywyNC42NDcsMCwwLDEsNDcuNSw1MS4yMzVaIj48L3BhdGg+PC9zdmc+", "color": "#008cba"},
                    "http://xmlns.com/foaf/0.1/Organization": {"image": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGJhc2VQcm9maWxlPSJ0aW55IiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iLTQ5NS41IDUwNC41IDI0IDI0IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBmaWxsPSIjNDNhYzZhIiBkPSJNLTQ5MC41LDUwOC41djIwaDV2LTNoNXYzaDV2LTIwSC00OTAuNXogTS00ODYuNSw1MjEuNWgtMnYtMmgyVjUyMS41eiBNLTQ4Ni41LDUxOC41aC0ydi0yaDJWNTE4LjV6IE0tNDg2LjUsNTE1LjVoLTJ2LTJoMiAgVjUxNS41eiBNLTQ4Ni41LDUxMi41aC0ydi0yaDJWNTEyLjV6IE0tNDgzLjUsNTIxLjVoLTJ2LTJoMlY1MjEuNXogTS00ODMuNSw1MTguNWgtMnYtMmgyVjUxOC41eiBNLTQ4My41LDUxNS41aC0ydi0yaDJWNTE1LjV6ICAgTS00ODMuNSw1MTIuNWgtMnYtMmgyVjUxMi41eiBNLTQ4MC41LDUyMS41aC0ydi0yaDJWNTIxLjV6IE0tNDgwLjUsNTE4LjVoLTJ2LTJoMlY1MTguNXogTS00ODAuNSw1MTUuNWgtMnYtMmgyVjUxNS41eiAgIE0tNDgwLjUsNTEyLjVoLTJ2LTJoMlY1MTIuNXogTS00NzcuNSw1MjEuNWgtMnYtMmgyVjUyMS41eiBNLTQ3Ny41LDUxOC41aC0ydi0yaDJWNTE4LjV6IE0tNDc3LjUsNTE1LjVoLTJ2LTJoMlY1MTUuNXogICBNLTQ3Ny41LDUxMi41aC0ydi0yaDJWNTEyLjV6Ij48L3BhdGg+PC9zdmc+", "color": "#43ac6a"}
                  }'
                >
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo16'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>


        <h3 id='visual-appearance-knowledge-panel'>Integrating the Knowledge Panel</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
             <p>In most of the default Ontodia configurations in the platform the
             <semantic-link uri='[[resolvePrefix "Help:Elasticsearch"]]'>Knowledge Panel</semantic-link>
             is integrated as default feature to show details for a selected resource. Knowledge panel
               could be accessed through an info icon (visible when the mouse pointer is hovered over a node
               or in a selected node).</p>
             <p>When composing Ontodia configurations by default a navigation link to the
             resource is shown (instead of the Knowledge Panel link). If a Knowledge Panel
             integration is desired, a few further steps need to be be performed:</p>
             <ol>
                <li>Instruct the Ontodia default node template to use a Knowledge Panel (i.e. to
                show the icon link in an active node): <code>&lt;ontodia-canvas use-knowledge-panel='true' ...&gt;</code></li>
                <li>Integrate an <code>&lt;mp-proxy&gt;</code>event handler</li>
                <li>Integrate the <code>&lt;knowledge-panel-frame&gt;</code>
                <li>Finalize layouting and CSS styles</li>
             </ol>

             <p>Please find a full example for this configuration on the right. The layouting and styling
             configuration is close to the platform default.</p>

             <p>Note that alternatively a Knowledge Panel trigger and placement can be configured
             by customizing the entire node template (see below for details).</p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
<style>
  .ontodia-container {
    flex: auto;
    display: flex;
    height: 100%;
    min-height:500px;
    width: 100%;
  }

  .ontodia-workspace-container {
    flex-grow: 1;
    min-width: 0;
  }

  .ontodia-knowledge-panel-container {
    background-color: whitesmoke;
    padding: 10px 10px 0px 0px;
    max-width: 30%;
  }

  .ontodia-knowledge-panel-container .knowledge-panel-frame {
    box-shadow: 0px 5px 13px 5px rgba(0, 0, 0, 0.12);
    height: calc(100% - 10px);
    transition: height 0.3s;
    overflow: hidden;
    margin-left: 0;
    width: 380px;
    max-width: 100%;
  }
  .knowledge-panel-frame .DataTable--global-filter-container {
    width: 100%
  }
</style>

<div class='ontodia-container'>
  <div class='ontodia-workspace-container'>
    <ontodia query='
      [[> exampleQuery]]
    '>
      <ontodia-data-providers>
        <ontodia-rdf-provider provision-query='
          [[> exampleData]]
        '>
        </ontodia-rdf-provider>
      </ontodia-data-providers>
      <ontodia-canvas id='canvas-demo4' use-knowledge-panel='true'></ontodia-canvas>
    </ontodia>
  </div>
  <div class='ontodia-knowledge-panel-container'>
  <mp-event-proxy
    id='proxy-selection'
    on-event-type='Ontodia.ShowElementInfo'
    proxy-event-type='KnowledgePanel.Open'
    proxy-targets='[]'>
  </mp-event-proxy>
  <semantic-context repository='[[#if (urlParam "repository")]][[urlParam "repository"]][[else]]default[[/if]]'>
    <mp-knowledge-panel-frame no-pin=true></mp-knowledge-panel-frame>
  </semantic-context>
</div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='visual-appearance-templates'>Custom templates</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>Node styles can be configured generally for all nodes (<code>default-node-template</code>)
            or for specific types (<code>node-templates</code>). </p>
            <p>
              Additionally, there are properties to change edges styles, either for all nodes
              (<code>defaultEdgeStyle</code>) or again for specific types (<code>edgeStyles</code>).
            </p>
            <pre>
              <code>
                <ontodia-canvas
                  node-templates='{
                    "http://xmlns.com/foaf/0.1/Person": "{{> template}}"
                  }'
                  edge-styles='{
                    "http://xmlns.com/foaf/0.1/member": {
                      "linkStyle": {
                        "connection": {"stroke": "#F26144", "stroke-width": 2}},
                      }
                  }'
                >
                  <template id='template'>
                    {{label}}
                  </template>
                </ontodia-canvas>
              </code>
            </pre>
            <p>Inside a custom template, the following properties are available:</p>
            <mp-documentation disable-transform-attributes='true' type='OntodiaElementTemplateData'></mp-documentation>

            <p>
              To make template be able to execute callbacks use following names for buttons:
            </p>
            <ul>
              <li><code>openConnectionMenu</code> - button to open connections menu</li>
              <li><code>showInfo</code> - button to open Knowledge Panel</li>
              <li><code>addToFilter</code> - button to pass entity to InstancesSearch panel</li>
              <li><code>removeSelectedElements</code> - button to remove selected element from diagram</li>
              <li><code>followLink</code> - button to navigate to the resource</li>
              <li><code>expand</code> - button to change the state on "expanded" (Default template doesn't support this state)</li>
            </ul>

            <p>
              To make a template, that supports authoring, special buttons with the following names
              are needed:
            </p>
            <ul>
              <li><code>edit</code> - button to open properties editor panel</li>
              <li><code>delete</code> - button to delete element from the data</li>
            </ul>
            <p>A custom edge style has the following properties:</p>
              <ul>
                <li>
                  <code>markerSource</code> and <code>markerTarget</code> - determines styles of the
                  source and target markers respectively
                </li>
                <li><code>linkStyle</code> - defines styles and labels of a link</li>
                <li><code>editable</code> - enables link label editing</li>
              </ul>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia query='
                  prefix person: <http://example.com/person/>
                  prefix foaf: <http://xmlns.com/foaf/0.1/>
                  prefix org: <http://example.com/org/>

                  CONSTRUCT {
                    ?s ?p ?o
                  } WHERE {
                    {
                      SELECT ?s ?p ?o WHERE {
                        VALUES (?s ?p ?o)
                        {
                          (person:alice foaf:member org:W3C)
                        }
                      }
                    }
                  }
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='canvas-demo15'
                    node-templates='{
                      "http://xmlns.com/foaf/0.1/Person": "{{> person-template}}",
                      "http://xmlns.com/foaf/0.1/Organization": "{{> org-template}}"
                    }'
                    edge-styles='{
                      "http://xmlns.com/foaf/0.1/member": {
                        "markerTarget": {"fill": "#F26144", "stroke": "#F26144"},
                        "linkStyle": {
                          "connection": {"stroke": "#F26144", "stroke-width": 2}},
                          "editable": true
                        }
                    }'
                  >
                    <template id='body-template'>
                      <div class='panel-body'><span class='text-nowrap'><i>iri: {{iri}}</i></span>
                      </div>
                      <ul class='list-group'>
                        {{#each propsAsList}}
                        {{#ifCond name "!==" "DataProvider"}}
                        <li class='list-group-item'>
                          <strong>{{name}}: </strong> {{#each property.values}}{{text}}{{/each}}
                        </li>
                        {{/ifCond}}
                        {{/each}}
                        <button name='edit' style='margin: 5px'>Edit</button>
                        <button name='delete' style='margin: 5px'>Delete</button>
                      </ul>
                    </template>
                    <template id='person-template'>
                      <div class='panel panel-primary' style='margin: 0'>
                        <div class='panel-heading'>
                          <h4 class='text-nowrap' style='margin: 0'>
                            <i class='fa fa-user'></i> {{label}}
                          </h4>
                        </div>
                        {{#if isExpanded}}
                        {{> body-template}}
                        {{/if}}
                      </div>
                    </template>
                    <template id='org-template'>
                      <div class='panel panel-success' style='margin: 0'>
                        <div class='panel-heading'>
                          <h4 class='text-nowrap' style='margin: 0'>
                            <i class="fa fa-building"></i> {{label}}
                          </h4>
                        </div>
                        {{#if isExpanded}}
                        {{> body-template}}
                        {{/if}}
                      </div>
                    </template>
                  </ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
            <h3>Tabby template</h3>
            <p>The <b>Tabby template</b> is used as default node template in the platform.</p>
            <mp-collapsible-div expanded=false>
              <mp-collapsible-div-trigger>
              <span>Show Tabby template</span>
              </mp-collapsible-div-trigger>
              <mp-collapsible-div-content>
                <mp-code-block mode='text/html'>
                  <template id="tabby-template">
                    <div class='{{#if onlySelected}}TabbyTemplate--selected{{/if}} TabbyTemplate--border'
                      style='color: {{color}}'>
                      <div class='TabbyTemplate--template'
                        title='{{iri}}'
                        style='border-right: 4px solid {{color}}; color: {{color}}'>
                        <div class='TabbyTemplate--buttons'>
                          <button type='button' name='showInfo' title='Show entity information'
                            class='TabbyTemplate--buttonInformation'>
                          </button>
                          <button type='button' name='followLink' title='Navigate to resource'
                            class='TabbyTemplate--buttonNavigateToResource'>
                          </button>
                          <button type='button' name='openConnectionMenu' title='Open connections menu'
                            class='TabbyTemplate--buttonConnections'>
                          </button>
                        </div>
                        <div class='TabbyTemplate--content'>
                          {{#if imgUrl}}
                            <div class='TabbyTemplate--image'>
                              <img src='{{imgUrl}}'/>
                            </div>
                          {{else}} {{#if iconUrl}}
                            <div class='TabbyTemplate--image'>
                              <img src='{{iconUrl}}'/>
                            </div>
                          {{/if}}{{/if}}
                          <div class='TabbyTemplate--body'>
                            <div class='TabbyTemplate--label'>
                              <div class='TabbyTemplate--labelValue' title='{{label}}'>
                                {{label}}
                              </div>
                            </div>
                            {{#if types}}
                              <div class='TabbyTemplate--types' title='{{types}}'>
                                <div class='TabbyTemplate--typesValue'>{{types}}</div>
                              </div>
                            {{else}}
                              <div class='TabbyTemplate--noTypes' title='Type is undefined'>
                                <div class='TabbyTemplate--line'></div>
                              </div>
                            {{/if}}
                          </div>
                        </div>
                      </div>
                    </div>
                  </template>
                </mp-code-block>
              </mp-collapsible-div-content>
            </mp-collapsible-div>
          </div>
        </div>

        [[> Help:OntodiaLayoutsConfigInclude]]

      </section>

      <section id='data-provider'>
        <h2 class='page-header'>Data Provider</h2>
        <h3 id='data-provider-custom-class-tree'>Custom Class Tree</h3>
        <p>
          This example shows how to enable classes statistics by overriding the
          <code>classTreeQuery</code> property.
        </p>
        <p>
          Fields of provider settings are described in the
          <mp-anchor to='ontodia-sparql-provider' animate='{"offset": -110, "duration": 500}'>
            ontodia-sparql-provider
          </mp-anchor>
          сonfiguration section.
        </p>
        <mp-code-block>
          <![CDATA[
          <ontodia>
            <ontodia-data-providers>
              <ontodia-sparql-provider provider-settings='{
                "classTreeQuery":
                  "SELECT ?class ?instcount ?label ?parent WHERE {
                    {
                      SELECT ?class (count(?inst) as ?instcount)
                      WHERE {
                        ?inst rdf:type ?class.
                        FILTER ISIRI(?class)
                      }
                      GROUP BY ?class
                    }
                    UNION
                    { ?class rdf:type rdfs:Class }
                    UNION
                    { ?class rdf:type owl:Class }
                    OPTIONAL { ?class rdfs:label ?label }
                    OPTIONAL { ?class rdfs:subClassOf ?parent. FILTER ISIRI(?parent) }
                  }"
              }'>
              </ontodia-sparql-provider>
            </ontodia-data-providers>
          </ontodia>
          ]]>
        </mp-code-block>

        <h3 id='data-provider-non-owl'>Non-OWL/RDFS Ontology</h3>
        <p>This example shows how to configure provider settings for Wikidata.</p>
        <p>
          Fields of the provider setting are described in the
          <mp-anchor to='ontodia-sparql-provider' animate='{"offset": -110, "duration": 500}'>
            ontodia-sparql-provider
          </mp-anchor>
          сonfiguration section.
        </p>
        <mp-code-block mode='application/json'>
        <![CDATA[
        {
          "defaultPrefix": "PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
            PREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
            PREFIX wdt: <http://www.wikidata.org/prop/direct/>
            PREFIX wd: <http://www.wikidata.org/entity/>
            PREFIX owl:  <http://www.w3.org/2002/07/owl#>
            PREFIX lookup: <http://www.metaphacts.com/ontologies/platform/repository/lookup#>",
          "schemaLabelProperty": "rdfs:label",
          "dataLabelProperty": "rdfs:label",
          "fullTextSearch": {
            "prefix": "",
            "queryPattern": "
              SERVICE Repository:lookup {
               ?inst lookup:token \"${text}\" .
            }
            BIND(xsd:integer(substr(str(?inst), 33)) as ?q)
            "
          },
          "classTreeQuery":
            "SELECT distinct ?class ?parent WHERE {
              { ?class wdt:P279 wd:Q35120. }
                UNION
              { ?parent wdt:P279 wd:Q35120.
                ?class wdt:P279 ?parent. }
                UNION
              { ?parent wdt:P279/wdt:P279 wd:Q35120.
                ?class wdt:P279 ?parent. }
            }",
          "linksInfoQuery":
            "SELECT ?source ?type ?target WHERE {
              VALUES (?source) {${ids}}
              VALUES (?target) {${ids}}
              ${linkConfigurations}
            }",
          "elementInfoQuery":
            "CONSTRUCT {
              ?inst rdf:type ?class .
              ?inst ?propType ?propValue.
            } WHERE {
              VALUES (?inst) {${ids}}
              OPTIONAL {
                ?inst wdt:P31 ?class
              }
              OPTIONAL {
                ${propertyConfigurations}
                FILTER (isLiteral(?propValue))
              }
            }",
          "imageQueryPattern":
            "{ ?inst ?linkType ?fullImage } UNION { ?inst wdt:P163/wdt:P18 ?fullImage }
            BIND(CONCAT(\"https://commons.wikimedia.org/w/thumb.php?f=\",
              STRAFTER(STR(?fullImage), \"Special:FilePath/\"), \"&w=200\") AS ?image)
            ",
          "linkTypesOfQuery":
            "SELECT DISTINCT ?link WHERE {
              ${linkConfigurations}
              ?claim <http://wikiba.se/ontology#directClaim> ?link .
            }",
          "linkTypesStatisticsQuery":
            "SELECT (${linkId} as ?link) (COUNT(?outObject) AS ?outCount) (COUNT(?inObject) AS ?inCount)
            WHERE {
              {
                {
                  SELECT DISTINCT ?outObject WHERE {
                    ${linkConfigurationOut}
                    FILTER(ISIRI(?outObject))
                    FILTER EXISTS { ?outObject ?someprop ?someobj }
                  }
                  LIMIT 101
                }
              } UNION {
                {
                  SELECT DISTINCT ?inObject WHERE {
                    ${linkConfigurationIn}
                    FILTER(ISIRI(?inObject))
                  }
                  LIMIT 101
                }
              }
            }",
          "filterRefElementLinkPattern": "?claim <http://wikiba.se/ontology#directClaim> ?link .",
          "filterTypePattern": "?inst wdt:P31 ?instType. ?instType wdt:P279* ?class",
          "filterAdditionalRestriction":
            "FILTER ISIRI(?inst)",
          "filterElementInfoPattern":
            "OPTIONAL { ?inst wdt:P31 ?foundClass }
            BIND (COALESCE(?foundClass, owl:Thing) as ?class)"
        }
        ]]>
        </mp-code-block>

        <h3 id='data-provider-display-images'>Display Images</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <p>
              Images can be displayed in Ontodia along with the nodes. This behaviour can be
              specified in two ways: Either by specifying the <code>image</code> property or a
              specific SPARQL Query to create return the image URLs.
            </p>
            <p>
              To specify image property IRIs, pass <code>image-iris</code> parameter containing a
              list of image property iris to the <code>ontodia-sparql-provider</code> component:
            </p>
            <pre>
              <code>
                <ontodia-sparql-provider image-iris='[
  "http://collection.britishmuseum.org/id/ontology/PX_has_main_representation"
]'>
</ontodia-sparql-provider>
              </code>
            </pre>
            <p>
              If you need more control on how image URL will be created, you can specify
              <code>image-query</code> parameter. It could be used to create image URL from
              metadata, to proxy image through local cache or to scale it.
            </p>
          </div>
          <div class='documentation__example__demo'>
            <mp-code-block>
              <![CDATA[
              <ontodia>
                <ontodia-data-providers>
                  <ontodia-sparql-provider image-query='
                    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
                    SELECT ?element ?image {
                      ?element wdt:P18|wdt:P41|wdt:P154 ?img.
                      BIND(CONCAT(
                        "https://commons.wikimedia.org/w/thumb.php?f=",
                        STRAFTER(STR(?img), "Special:FilePath/"),
                        "&w=200"
                      ) as ?image)
                    }'>
                  </ontodia-sparql-provider>
                </ontodia-data-providers>
              </ontodia>
              ]]>
            </mp-code-block>
          </div>
        </div>

        <h3 id='data-provider-virtual-data'>Virtual Data</h3>
        <p>
          This example shows how to display data in Ontodia that does physically not exist in the database using the
          <code>ontodia-rdf-provider</code>.
        </p>
        <mp-code-block>
          <![CDATA[
          <ontodia>
            <ontodia-data-providers>
              <ontodia-rdf-provider provision-query='
                [[> exampleData]]
              '>
              </ontodia-rdf-provider>
            </ontodia-data-providers>
          </ontodia>
          ]]>
        </mp-code-block>

        <h3 id='data-provider-rdf-star'>RDF-star properties</h3>
        <p>
          This example shows how to display <semantic-link uri='[[resolvePrefix "Help:RdfStar"]]'>RDF-star edge properties</semantic-link> in Ontodia. We use a custom <code>ontodia-sparql-provider</code> configured with a <code>linksInfoQuery</code> to retrieve any optional RDF-star annotations on every relation in the diagram. The RDF-star annotation property is returned as <code>?propType</code>, the value as <code>?propValue</code>:
        </p>
        <bs-alert variant="warning">The following examples will only work if the RDF database on which metaphactory is running supports RDF-star and SPARQL* syntax. Databases that do not suport this feature will report a SPARQL syntax error.
        </bs-alert>
        <div class='documentation__example__demo' style="width: 100%">
            <mp-code-example show-code-by-default='true'>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                      <ontodia-sparql-provider repository='default'
                      provider-settings='{
                        "linksInfoQuery": "SELECT ?source ?type ?target ?propType ?propValue
                          WHERE {
                              ?source ?type ?target.
                              OPTIONAL {<< ?source ?type ?target >> ?propType ?propValue .

                              VALUES (?source) {${ids}}
                              VALUES (?target) {${ids}}
                          }"
                      }'
                    ></ontodia-sparql-provider>
                    <ontodia-rdf-provider provision-query='
                                            prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                      prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                      prefix person: <http://example.com/person/>
                      prefix org: <http://example.com/org/>
                      prefix foaf: <http://xmlns.com/foaf/0.1/>

                      CONSTRUCT {
                        ?s ?p ?o .
                        <<?s ?p ?o>> org:statedBy org:metaphacts .
                      } WHERE {
                        {
                          SELECT ?s ?p ?o WHERE {
                            VALUES (?s ?p ?o)
                            {
                              (person:alice foaf:knows person:bob)
                              (person:alice foaf:knows person:carol)
                              (person:carol foaf:knows person:mike)
                              (person:mike foaf:knows person:carol)
                              (person:bob foaf:knows person:carol)
                              (person:alice foaf:knows person:mike)
                              (person:alice foaf:member org:W3C)
                              (person:mike foaf:member org:W3C)
                              (person:alice rdf:type foaf:Person)
                              (person:carol rdf:type foaf:Person)
                              (person:mike rdf:type foaf:Person)
                              (person:bob rdf:type foaf:Person)
                              (org:W3C rdf:type foaf:Organization)
                              (person:alice rdfs:label "Alice")
                              (person:alice foaf:birthday "1990-01-01")
                              (person:bob rdfs:label "Bob")
                              (person:carol rdfs:label "Carol")
                              (person:mike rdfs:label "Mike")
                            }
                          }
                        }
                      }
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo4'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
          <p>
            We can in addition make the relation reactive, and allow clicking on a relation to show additional RDF-star properties in a side panel. In the following example, we use a <semantic-link uri='[[resolvePrefix "Help:CSSLayout"]]'>workspace layout</semantic-link> and a <semantic-link uri='[[resolvePrefix "Help:EventSystem"]]'>event proxy</semantic-link> to make this happen:
             <div class='documentation__example__demo' style="width: 100%">
            <mp-code-example show-code-by-default='true'>
              <![CDATA[
              <div style='border: 1px solid #80808026; height:  350px'>
          <mp-workspace-layout horizontal-collapsed-size=0>
          <mp-workspace-row>
            <mp-workspace-item id='ontodiaPanel'>
              <div style='flex: 1'>
              <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                      <ontodia-sparql-provider repository='default'
                      provider-settings='{
                        "linksInfoQuery": "SELECT ?source ?type ?target ?propType ?propValue
                          WHERE {
                              ?source ?type ?target.
                              OPTIONAL {<< ?source ?type ?target >> ?propType ?propValue .

                              VALUES (?source) {${ids}}
                              VALUES (?target) {${ids}}
                          }"
                      }'
                    ></ontodia-sparql-provider>
                    <ontodia-rdf-provider provision-query='
                      prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                      prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                      prefix person: <http://example.com/person/>
                      prefix org: <http://example.com/org/>
                      prefix foaf: <http://xmlns.com/foaf/0.1/>

                      CONSTRUCT {
                        ?s ?p ?o .
                        <<?s ?p ?o>> org:statedBy org:metaphacts .
                      } WHERE {
                        {
                          SELECT ?s ?p ?o WHERE {
                            VALUES (?s ?p ?o)
                            {
                              (person:alice foaf:knows person:bob)
                              (person:alice foaf:knows person:carol)
                              (person:carol foaf:knows person:mike)
                              (person:mike foaf:knows person:carol)
                              (person:bob foaf:knows person:carol)
                              (person:alice foaf:knows person:mike)
                              (person:alice foaf:member org:W3C)
                              (person:mike foaf:member org:W3C)
                              (person:alice rdf:type foaf:Person)
                              (person:carol rdf:type foaf:Person)
                              (person:mike rdf:type foaf:Person)
                              (person:bob rdf:type foaf:Person)
                              (org:W3C rdf:type foaf:Organization)
                              (person:alice rdfs:label "Alice")
                              (person:alice foaf:birthday "1990-01-01")
                              (person:bob rdfs:label "Bob")
                              (person:carol rdfs:label "Carol")
                              (person:mike rdfs:label "Mike")
                            }
                          }
                        }
                      }
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>
                  <ontodia-canvas id='canvas-demo6'>
                  </ontodia-canvas>
                </ontodia>
              </div>
            </mp-workspace-item>
            <mp-workspace-item id='linkInfoPanel' undocked=false default-size=300>
              <div style='flex: 1'>
              <mp-event-target-template-render id='selectedlinkInfo'
                template='{{> t}}'>
                <template id='t'>
                  {{#ifCond links.length '==' 1}}
                    {{#each links}}
                    <p>RDF-star properties:</p>
                    <semantic-table
                        query='
                        prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                      prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                      prefix person: <http://example.com/person/>
                      prefix org: <http://example.com/org/>
                      prefix foaf: <http://xmlns.com/foaf/0.1/>
                          SELECT ?property ?value WHERE {
                            VALUES (?property ?value) {
                              ( org:statedBy org:metaphacts )
                              ( org:knownBy  person:bob )
                            }
                          }
                        '
                        options='{
                          "showFilter":false
                        }'>
                      </semantic-table>
                    {{/each}}
                  {{/ifCond}}
                </template>
              </mp-event-target-template-render>
              </div>
            </mp-workspace-item>
          </mp-workspace-row>
        </mp-workspace-layout>
        </div>
      <mp-event-proxy id='selectedLinksProxy'
        on-event-type='Ontodia.SelectedLinks'
        proxy-event-type='Component.TemplateUpdate'
        proxy-targets='["selectedlinkInfo"]'>
      </mp-event-proxy>
              ]]>
            </mp-code-example>
          </div>
            </p>
      </section>

      <section id='interaction'>
        <h2 class='page-header'>Component Interaction</h2>
        <p>
          This section describes Ontodia components which support the
          <semantic-link-container uri='[[resolvePrefix "Help:EventSystem"]]'>
            <a>Event system</a>
          </semantic-link-container>.
        </p>

        <h3 id='interaction-ontodia-events'>Ontodia events</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='OntodiaTriggerEventData'
              disable-transform-attributes=true
              hide-required-label=true>
            </mp-documentation>
            [[> Help:OntodiaListenEventDataInclude]]
          </div>
          <div class='documentation__example__demo'>
            <h4>Example: Change focus</h4>
            <p>Click on a link in the list to change the focused node.</p>
            <mp-code-example>
              <![CDATA[
              <semantic-query query='
                  SELECT ?iri WHERE {
                    VALUES (?iri) {
                      (<http://example.com/person/alice>)
                      (<http://example.com/person/bob>)
                      (<http://example.com/person/carol>)
                      (<http://example.com/person/mike>)
                      (<http://example.com/org/W3C> )
                    }
                  }
                '
                template='{{> template}}'
              >
                <template id='template'>
                <ul>
                  {{#each bindings}}
                  <li>
                    <mp-event-trigger id='focus-on-element'
                      type='Ontodia.FocusOnElement'
                      targets='["ontodia-events-demo"]'
                      data='{"iri": "{{iri.value}}"}'>
                      <a><mp-label iri='{{iri.value}}'></mp-label></a>
                    </mp-event-trigger>
                  </li>
                  {{/each}}
                </ul>
                </template>
              </semantic-query>

              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia id='ontodia-events-demo'
                  query='
                    [[> exampleQuery]]
                  '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='ontodia-events-demo-canvas'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='interaction-canvas-events'>Canvas events</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            [[> Help:OntodiaCanvasEventDataInclude]]
          </div>
          <div class='documentation__example__demo'>
            <h4>Example: Change zoom level</h4>
            <p>Click on the buttons outside Ontodia to change zoom level.</p>
            <mp-code-example>
              <![CDATA[
              <mp-event-trigger id='zoom-in'
                type='Canvas.ZoomIn'
                targets='["ontodia-canvas-events-demo"]'
                data='{}'>
                <button class='btn btn-secondary'>Zoom in</button>
              </mp-event-trigger>
              <mp-event-trigger id='zoom-out'
                type='Canvas.ZoomOut'
                targets='["ontodia-canvas-events-demo"]'
                data='{}'>
                <button class='btn btn-secondary'>Zoom out</button>
              </mp-event-trigger>

              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia query='
                  [[> exampleQuery]]
                '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='ontodia-canvas-events-demo'></ontodia-canvas>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>

        <h3 id='instances-search-events'>Instances search events</h3>
        <div class='documentation__example'>
          <div class='documentation__example__description'>
            <mp-documentation type='InstancesSearchEventData'
              disable-transform-attributes=true
              hide-required-label=true>
            </mp-documentation>
          </div>
          <div class='documentation__example__demo'>
            <h4>LazyTree as Ontodia Tree in a couple with Instances search panel</h4>
            <mp-code-example>
              <![CDATA[
              <div style='border: 1px solid #80808026; height: 350px'>
                <ontodia id='ontodia-events-demo'
                  query='
                    [[> exampleQuery]]
                  '>
                  <ontodia-data-providers>
                    <ontodia-rdf-provider provision-query='
                      [[> exampleData]]
                    '>
                    </ontodia-rdf-provider>
                  </ontodia-data-providers>

                  <ontodia-canvas id='ontodia-events-demo-canvas'></ontodia-canvas>
                  <mp-workspace-layout>
                    <mp-workspace-column undocked=true>
                      <mp-workspace-item heading="Classes" id="classes">
                        [[> lazy-tree-example]]
                      </mp-workspace-item>
                      <mp-workspace-item heading="Instances" id="instances">
                        <ontodia-instances-search id="instances-search"></ontodia-instances-search>
                      </mp-workspace-item>
                    </mp-workspace-column>
                  </mp-workspace-layout>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>
      </section>

      <section id='authoring'>
        <h2 class='page-header'>Authoring Mode</h2>

        <div class="documentation__example">
          <div class="documentation__example__description">
            <p>Authoring mode allows user to make changes to the database and requires additional setup of the component.
              To specify the model of the data to be changed, Ontodia uses authoring metadata configuration that consist of entity metadata definitions and field definitions.
              Entity definition defines an entity of particular type and it's properties as field definitions.
              Entity definitions are configured in configuration templates in <code>ontodia-entity-metadata</code> blocks.
              Ontodia shares field definitions concept with Semantic Forms and they can be specified either inline in the configuration or referenced from assets repository by providing field iri.
              Fields are used for viewing the data and for modifying through the data. In viewing and navigation literal-typed fields are used as element properties, and resource-typed fields are used for navigation between elements.
            </p>

            <p>Entity metadata and fields are used for:</p>
            <ul>
              <li>presence of Entity metadata for a type means elements of this type could be modified - created, deleted, changed</li>
              <li>domain/range of fields determine what links user could create</li>
              <li>domain/range/cardinality of fields affect diagram validation, erroneous elements and links are marked on the diagram</li>
              <li>fields are used to generate default semantic form for authoring literal data properties and for validation of those properties. Form markup is displayed inside Ontodia to edit actual values</li>
              <li>to persist changes, Ontodia calls semantic forms APIs to create new version of the element and persist it against triplestore</li>
            </ul>

            To enable the authoring mode developer need to:
            <ol>
              <li>Provide <code>ontodia-field-configuration</code> as child of Ontodia component with fields configuration</li>
              <li>Provide <code>ontodia-entity-metadata</code>s inside of <code>ontodia-field-configuration</code></li>
              <li>Semantic forms will be generated automatically, based on the order of literal fields and default association with input types</li>
              <li>If developer wants to modify input types used for the form, <code>ontodia-field-input-override</code> should be provided within <code>ontodia-field-configuration</code> block</li>
              <li>If autogenerated forms are not satisfactory, <code>semantic-form</code> as a child of <code>ontodia-entity-metadata</code> could be provided to specify custom form</li>
            </ol>

            <h3 id='authoring-metadata'>Metadata configuration</h3>
            Specifies configuration for authoring within Ontodia.
            <code>ontodia-field-configuration</code> has following configuration options:
            <mp-documentation type="OntodiaFieldConfigurationConfig"></mp-documentation>

            <h3 id='authoring-entity-metadata'>Entity metadata configuration</h3>
            Configures metadata for an entity of given type, collecting all information on entity schema together.
            <code>ontodia-entity-metadata</code> has following configuration options:
            <mp-documentation type="OntodiaEntityMetadataConfig"></mp-documentation>

            <h3 id='authoring-input-override'>Input override configuration</h3>
            Provides a way to gradually specify semantic form by overriding default inputs for fields.
            <code>ontodia-field-input-override</code> has following configuration options:
            <mp-documentation type="OntodiaFieldInputOverrideConfig"></mp-documentation>

          </div>
          <div class="documentation__example__demo">
            <mp-code-example>
              <![CDATA[
              <div style="height: 500px">
                <ontodia>
									<ontodia-data-providers>
                    <ontodia-sparql-provider provider-settings='{
                      "classTreeQuery": "
                      	SELECT ?class ?label ?parent WHERE {
                      		VALUES ?class {
                      		  <http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object>
                      		  <http://www.cidoc-crm.org/cidoc-crm/E53_Place>
                      		}
                      	}
                      "}'></ontodia-sparql-provider>
                    </ontodia-data-providers>
                  <ontodia-field-configuration authoring-mode="true"
                                               default-subject-template='http://www.example.com/id/{{UUID}}'
                                               type-iri='http://type'
                                               default-label-iri='http://label'

                                               fields='[
                          {
                            "iri": "http://type",
                            "id": "type",
                            "label": "Type",
                            "description": "The type of the created instance",
                            "xsdDatatype": "xsd:anyURI",
                            "domain": [ "http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object" ],
                            "range": [ "http://www.w3.org/2000/01/rdf-schema#Class" ],
                            "minOccurs": "1",
                            "maxOccurs": "1",
                            "valueSetPattern": "
                              SELECT $value $label WHERE {
                                VALUES ($value $label) {
                                  (<http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object> \"Man Made Object\")
                                  (<http://www.cidoc-crm.org/cidoc-crm/E73_Information_Object> \"Information Object\")
                                }
                              }
                            ",
                            "selectPattern": "SELECT $value WHERE { $subject a $value }",
                            "insertPattern": "INSERT { $subject a $value } WHERE {}",
                            "deletePattern": "DELETE { $subject a $value } WHERE {}"
                          },
                          {
                            "iri": "http://label",
                            "id": "label",
                            "label": "Label",
                            "description": "The label used to display the instance",
                            "xsdDatatype": "xsd:string",
                            "minOccurs": "1",
                            "maxOccurs": "1",
                            "selectPattern": "SELECT $value WHERE { $subject rdfs:label $value }",
                            "insertPattern": "INSERT { $subject rdfs:label $value } WHERE {}",
                            "deletePattern": "DELETE { $subject rdfs:label $value } WHERE {}"
                          },
                          {
                            "iri": "http://note",
                            "id": "note",
                            "label": "Note",
                            "description": "The note used to describe the instance",
                            "xsdDatatype": "xsd:string",
                            "minOccurs": "1",
                            "maxOccurs": "1",
                            "selectPattern": "SELECT $value WHERE { $subject <http://www.cidoc-crm.org/cidoc-crm/P3_has_note> $value }",
                            "insertPattern": "INSERT { $subject <http://www.cidoc-crm.org/cidoc-crm/P3_has_note> $value } WHERE {}",
                            "deletePattern": "DELETE { $subject <http://www.cidoc-crm.org/cidoc-crm/P3_has_note> $value } WHERE {}"
                          },
                          {
                            "iri": "http://location",
                            "id": "location",
                            "label": "Location",
                            "description": "The former or current location of an instance",
                            "xsdDatatype": "xsd:anyURI",
                            "domain": [ "http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object" ],
                            "range": [ "http://www.cidoc-crm.org/cidoc-crm/E53_Place" ],
                            "minOccurs": "1",
                            "maxOccurs": "3",
                            "selectPattern": "
                              PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>
                              SELECT $value WHERE { $subject crm:P53_has_former_or_current_location $value }
                            ",
                            "insertPattern": "
                              PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>
                              INSERT { $subject crm:P53_has_former_or_current_location $value } WHERE {}
                            ",
                            "deletePattern": "
                              PREFIX crm: <http://www.cidoc-crm.org/cidoc-crm/>
                              DELETE { $subject crm:P53_has_former_or_current_location $value } WHERE {}
                            ",
                            "treePatterns": {
                              "type": "simple",
                              "schemePattern": "?item <http://www.w3.org/2004/02/skos/core#inScheme> <http://collection.britishmuseum.org/id/place>"
                            }
                          }
                        ]'
                  >
                    <ontodia-entity-metadata
                      entity-type-iri="http://www.cidoc-crm.org/cidoc-crm/E22_Man-Made_Object"
                      fields='["http://note", "http://location"]'
                    >
                    </ontodia-entity-metadata>
                    <ontodia-entity-metadata
                      entity-type-iri="http://www.cidoc-crm.org/cidoc-crm/E53_Place"
                      fields='[]'
                    >
                    </ontodia-entity-metadata>
                    <ontodia-field-input-override for-field='http://note'>
                      <semantic-form-text-input multiline='true'></semantic-form-text-input>
                    </ontodia-field-input-override>
                  </ontodia-field-configuration>
                </ontodia>
              </div>
              ]]>
            </mp-code-example>
          </div>
        </div>
      </section>

      <section id='how-to'>
        <h2 class='page-header'>How-to</h2>
        <h3 id='how-to-restrict-data'>Restrict the data to be queried</h3>
        <p>
          You can place any SPARQL restrictions within the <mp-anchor to='ontodia-sparql-provider' animate='{"offset": -110, "duration": 500}'> Data Provider Configuration - SparqlDataProvider</mp-anchor> for your use-case.

          Only in very rare cases you may want to modify the global default
          <semantic-link iri='http://www.metaphacts.com/resource/OntodiaUserDataProvider'
            urlqueryparamAction='edit'>Ontodia SparqlDataProvider configuration
          </semantic-link> within the platform, i.e. if you overwrite the global platform configuration,
          you may silently break some entry points and will have to synchronize manually with future releases / updates.
        </p>
        <h3 id='how-to-custom-styles'>Provide global templates for visualization</h3>
        <p>
          You can provide templates for nodes and edges by overriding them in
          <semantic-link iri='http://www.metaphacts.com/resource/OntodiaUserTemplates'
            urlqueryparamAction='edit'>
          </semantic-link>
          template according to the
           <mp-anchor to='visual-appearance' animate='{"offset": -110, "duration": 500}'>Visual Appearance Configuration</mp-anchor> documentation.
        </p>
        <h3 id='how-to-custom-workspace'>Add/remove panels or toolbar options from the global configuration</h3>
        <p>
          There are two default workspaces for Ontodia - one is for “Simple” browsing, one for
          “Advanced” browsing. To change them, you should change either
          <semantic-link iri='http://www.metaphacts.com/resource/OntodiaSimpleWorkspace'
            urlqueryparamAction='edit'>
          </semantic-link>
          or
          <semantic-link iri='http://www.metaphacts.com/resource/OntodiaAdvancedWorkspace'
            urlqueryparamAction='edit'>
          </semantic-link>
          according to the documentation
          <mp-anchor to='component-hierarchy' animate='{"offset": -110, "duration": 500}'>Components Hierarchy</mp-anchor>.
        </p>
        <h3 id='how-to-custom-use-case'>Configure Ontodia for a custom use-case</h3>
        <p>
          If you find out that default views are not sufficient, you can configure Ontodia from scratch
          with the ability to customize every aspect. Please consider the following templates as input:
        </p>
        <ol>
          <li>
            User data provider configuration, that is used across all user-faced instances
            <semantic-link iri='http://www.metaphacts.com/resource/OntodiaUserDataProvider'
              urlqueryparamAction='edit'>
            </semantic-link>
          </li>
          <li>
            Simple or Advanced workspace to have toolbar and UI configured for you:
            <semantic-link iri='http://www.metaphacts.com/resource/OntodiaSimpleWorkspace'
              urlqueryparamAction='edit'>
            </semantic-link>
            or
            <semantic-link iri='http://www.metaphacts.com/resource/OntodiaAdvancedWorkspace'
              urlqueryparamAction='edit'>
            </semantic-link>
          </li>
          <li>
            User customization bundle to pick up all element templates and other visual
            customization that are used across default Ontodia instances:
            <semantic-link iri='http://www.metaphacts.com/resource/OntodiaUserTemplates'
              urlqueryparamAction='edit'>
            </semantic-link>
          </li>
        </ol>
        <p>
          You can see how those templates are used, for example, in the default resource page
          <semantic-link iri='Template:http://www.w3.org/2000/01/rdf-schema#Resource'
            urlqueryparamAction='edit'>
          </semantic-link>
          or any other default platform Ontodia instance. Reusing those templates will help to maintain
          a uniform user experience across the platform.
        </p>
        <h3 id='how-to-events'>Interaction between Ontodia and other platform components on the same page</h3>
        <p>
          You can make other components react on certain Ontodia events or trigger some actions in
          Ontodia by using platform event system, for example, executing an action after saving of
          the diagram, displaying an infobox on selected element in Ontodia, or making Ontodia to
          organize nodes by using a graph layout algorithm. Please see options in
          <mp-anchor to='interaction' animate='{"offset": -110, "duration": 500}'>Component Interaction</mp-anchor>.
        </p>
      </section>
    </div>
  </div>
</div>

[[#*inline "exampleQuery"]]
                  prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                  prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                  prefix person: <http://example.com/person/>
                  prefix org: <http://example.com/org/>
                  prefix foaf: <http://xmlns.com/foaf/0.1/>

                  CONSTRUCT {
                    ?s ?p ?o
                  } WHERE {
                    {
                      SELECT ?s ?p ?o WHERE {
                        VALUES (?s ?p ?o)
                        {
                          (person:alice foaf:knows person:bob)
                          (person:alice foaf:knows person:carol)
                          (person:carol foaf:knows person:mike)
                          (person:mike foaf:knows person:carol)
                          (person:bob foaf:knows person:carol)
                          (person:alice foaf:knows person:mike)
                          (person:alice foaf:member org:W3C)
                          (person:mike foaf:member org:W3C)
                        }
                      }
                    }
                  }
[[/inline]]

[[#*inline "exampleData"]]
                      prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>
                      prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
                      prefix person: <http://example.com/person/>
                      prefix org: <http://example.com/org/>
                      prefix foaf: <http://xmlns.com/foaf/0.1/>

                      CONSTRUCT {
                        ?s ?p ?o
                      } WHERE {
                        {
                          SELECT ?s ?p ?o WHERE {
                            VALUES (?s ?p ?o)
                            {
                              (person:alice foaf:knows person:bob)
                              (person:alice foaf:knows person:carol)
                              (person:carol foaf:knows person:mike)
                              (person:mike foaf:knows person:carol)
                              (person:bob foaf:knows person:carol)
                              (person:alice foaf:knows person:mike)
                              (person:alice foaf:member org:W3C)
                              (person:mike foaf:member org:W3C)
                              (person:alice rdf:type foaf:Person)
                              (person:carol rdf:type foaf:Person)
                              (person:mike rdf:type foaf:Person)
                              (person:bob rdf:type foaf:Person)
                              (org:W3C rdf:type foaf:Organization)
                              (person:alice rdfs:label "Alice")
                              (person:alice foaf:birthday "1990-01-01")
                              (person:bob rdfs:label "Bob")
                              (person:carol rdfs:label "Carol")
                              (person:mike rdfs:label "Mike")
                            }
                          }
                        }
                      }
[[/inline]]

[[#*inline "lazy-tree-example"]]
<semantic-lazy-tree
  placeholder='Select or search for an entity...'
  roots-query='
    SELECT DISTINCT ?item ?label ?hasChildren WHERE {
      VALUES(?item ?label ?hasChildren) {
        (<http://example.com/Organization> "Organization" true)
      }
    } ORDER BY [[#if reorder]]DESC [[/if]](?label) LIMIT 200
  '
  children-query='
    SELECT DISTINCT ?item ?label ?hasChildren WHERE {
      {
        FILTER(?parent = <http://example.com/Organization>)
        VALUES(?item ?label ?hasChildren) {
          (<http://example.com/ITDepartment> "IT Department" true)
          (<http://example.com/ManagementDepartment> "Management Department" true)
          (<http://example.com/AccountDepartment> "Account Department" true)
          (<http://example.com/LowDepartment> "Low Department" true)
        }
      } UNION {
        FILTER (?parent = <http://example.com/ITDepartment>)
        VALUES(?item ?label ?hasChildren) {
          (<http://example.com/Employee1> "Employee 1" false)
          (<http://example.com/Employee2> "Employee 2" false)
          (<http://example.com/Employee3> "Employee 3" false)
          (<http://example.com/Employee4> "Employee 4" false)
        }
      } UNION {
        FILTER (?parent = <http://example.com/ManagementDepartment>)
        VALUES(?item ?label ?hasChildren) {
          (<http://example.com/Employee5> "Employee 5" false)
          (<http://example.com/Employee6> "Employee 6" false)
        }
      } UNION {
        FILTER (?parent = <http://example.com/AccountDepartment>)
        VALUES(?item ?label ?hasChildren) {
          (<http://example.com/Employee7> "Employee 7" false)
          (<http://example.com/Employee8> "Employee 8" false)
        }
      } UNION {
        FILTER (?parent = <http://example.com/LowDepartment>)
        VALUES(?item ?label ?hasChildren) {
          (<http://example.com/Employee9> "Employee 9" false)
        }
      }
    } ORDER BY [[#if reorder]]DESC [[/if]](?label) LIMIT 200
  ',
  parents-query='
    SELECT DISTINCT ?item ?parent ?parentLabel WHERE {
      {
        VALUES(?parent ?parentLabel) {
          (<http://example.com/Organization> "Organization")
        }
        VALUES(?item) {
          (<http://example.com/ITDepartment>)
          (<http://example.com/ManagementDepartment>)
          (<http://example.com/AccountDepartment>)
          (<http://example.com/LowDepartment>)
        }
      } UNION {
        VALUES(?parent ?parentLabel) {
          (<http://example.com/ITDepartment> "IT Department")
        }
        VALUES(?item) {
          (<http://example.com/Employee1>)
          (<http://example.com/Employee2>)
          (<http://example.com/Employee3>)
          (<http://example.com/Employee4>)
        }
      } UNION {
        VALUES(?parent ?parentLabel) {
          (<http://example.com/ManagementDepartment> "Management Department")
        }
        VALUES(?item) {
          (<http://example.com/Employee5>)
          (<http://example.com/Employee6>)
        }
      } UNION {
        VALUES(?parent ?parentLabel) {
          (<http://example.com/AccountDepartment> "Account Department")
        }
        VALUES(?item) {
          (<http://example.com/Employee7>)
          (<http://example.com/Employee8>)
        }
      } UNION {
        VALUES(?parent ?parentLabel) {
          (<http://example.com/LowDepartment> "Low Department")
        }
        VALUES(?item) {
          (<http://example.com/Employee9>)
        }
      }
    }
  ',
  search-query='
    SELECT DISTINCT ?item ?label ?score ?hasChildren WHERE {
      VALUES(?item ?label ?hasChildren) {
          (<http://example.com/Organization> "Organization" true)
          (<http://example.com/ITDepartment> "IT Department" true )
          (<http://example.com/ManagementDepartment> "Management Department" true)
          (<http://example.com/AccountDepartment> "Account Department" true)
          (<http://example.com/LowDepartment> "Low Department" true)
          (<http://example.com/Employee1> "Employee 1" false)
          (<http://example.com/Employee2> "Employee 2" false)
          (<http://example.com/Employee3> "Employee 3" false)
          (<http://example.com/Employee4> "Employee 4" false)
          (<http://example.com/Employee5> "Employee 5" false)
          (<http://example.com/Employee6> "Employee 6" false)
          (<http://example.com/Employee7> "Employee 7" false)
          (<http://example.com/Employee8> "Employee 8" false)
          (<http://example.com/Employee9> "Employee 9" false)
      }
      FILTER REGEX(LCASE(?label), LCASE(?__token__), "i")
    } ORDER BY DESC (?score) (?label) LIMIT 200
  '
  node-template='{{> node}}'>
  <template id="node">
    <mp-event-trigger
      id="node-tirgger-{{iri}}"
      type='InstancesSearch.SetCriteria'
      data='{
        "criteria": {
          "elementType": {
            "iri": "{{iri}}"
          }
        }
      }'
      targets='["instances-search"]'
      >
      <span>
        <span title='{{iri}}'>
          <a>
            <mp-highlight highlight={{highlight}}
                          highlight-props='{"className": "exampleHighlight"}'>
              {{label}}
            </mp-highlight>
          </a>
        </span>
        {{#if hasError}} {{/if}}
      </span>
    </mp-event-trigger>
  </template>
</semantic-lazy-tree>
[[/inline]]
